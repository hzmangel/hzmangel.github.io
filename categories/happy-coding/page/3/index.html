<!DOCTYPE html>
<html lang="zh-cn">
    <head>
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />

        <meta property="og:title" content=" Happy Coding &middot;  湖间小筑" />
        <meta property="og:site_name" content="湖间小筑" />
        <meta property="og:url" content="http://hzmangel.github.io/categories/happy-coding/" />

        
            <meta property="og:type" content="website" />
        

        <title>
            湖间小筑
            
                | Happy Coding
            
        </title>

        <meta name="description" content="" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />

        <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css" rel="stylesheet">

        <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.6/styles/atelier-dune.dark.min.css">

        <link rel="stylesheet" type="text/css" href="http://hzmangel.github.io/css/screen.css" />

        
          <link href="http://hzmangel.github.io/categories/happy-coding/index.xml" rel="alternate" type="application/rss+xml" title="湖间小筑" />
          <link href="http://hzmangel.github.io/categories/happy-coding/index.xml" rel="feed" type="application/rss+xml" title="湖间小筑" />
        

        <link rel="canonical" href="http://hzmangel.github.io/categories/happy-coding/" />
    </head>

    <body>
        <div class="container" id="site-wrapper">
            <header>
    <div class="row">
        <div class="col-md-6" id="site-title">
            <a href="http://hzmangel.github.io/" title="湖间小筑" rel="home"><h2>湖间小筑</h2></a>
        </div>

        <div class="col-md-6" id="site-description">
            <i class="text-right muted"><div id="site-description">蓝天，小湖，湖水中一方小筑</div></i>
        </div>
    </div>

    <img src="/img/banner.jpg" class="img-responsive">
</header>

            <nav role="navigation">

</nav>





<div class="row">
    <div class="col-md-9">
        
            <article class="post">

    <header>
        <h2 class="post-title"><a href='http://hzmangel.github.io/post/1210/'> Uploading multiple attachments with carrierwave/mongoid/nested_form</a> </h2>
        <div class="post-meta">发表于2013-05-07 23:30:25 </div>
    </header>

    <section>
        <div class="post-summary"><p>Recently I have met a requirement that need to upload multiple attachments to
a rails project. After some investigations, I choose <code>carrierwave</code> finally.
Also, I selected <code>nested_form</code> to manage uploading and deleting multiple
attachments.</p>
</div>
    </section>

    
        <footer>
            <p><a href='http://hzmangel.github.io/post/1210/'><nobr>继续阅读 →</nobr></a></p>
        </footer>
    

</article>

        
            <article class="post">

    <header>
        <h2 class="post-title"><a href='http://hzmangel.github.io/post/1205/'> Using Rails with Redis</a> </h2>
        <div class="post-meta">发表于2013-04-25 16:56:17 </div>
    </header>

    <section>
        <div class="post-summary"><p>I have met an issue recently that the Rails site always returns 502 error for
some page. After some investigation, I have found that the problem is caused
by a long time query of database, which exceeds the timeout value of unicorn
configuration, then the unicorn worker process will be killed and the Nginx
returns 502 to user.</p>

<p>So the solution for this kind prblem is to put the job into some background
task, and use some other method to inform the frontend when job done. Finally
I choose the Redis for this task.</p>
</div>
    </section>

    
        <footer>
            <p><a href='http://hzmangel.github.io/post/1205/'><nobr>继续阅读 →</nobr></a></p>
        </footer>
    

</article>

        
            <article class="post">

    <header>
        <h2 class="post-title"><a href='http://hzmangel.github.io/post/1201/'> iOS Code Snippets - UITableView</a> </h2>
        <div class="post-meta">发表于2013-03-12 00:06:08 </div>
    </header>

    <section>
        <div class="post-summary"><p>Just created a project on BitBucket to save some iOS code snippets, and the first project is a simple UITableViewController one. The code is placed at <a href="http://goo.gl/0ZrcA">http://goo.gl/0ZrcA</a>. The text above is the introduction text for that project, please reference the code for detailed information.</p>
</div>
    </section>

    
        <footer>
            <p><a href='http://hzmangel.github.io/post/1201/'><nobr>继续阅读 →</nobr></a></p>
        </footer>
    

</article>

        
            <article class="post">

    <header>
        <h2 class="post-title"><a href='http://hzmangel.github.io/post/1195/'> @property and its attributes</a> </h2>
        <div class="post-meta">发表于2013-02-10 00:06:18 </div>
    </header>

    <section>
        <div class="post-summary"><p>Recently working on iOS project, and have met some problems while using the
attributes of <code>@property</code>. I have searched some documents and here is my idea
about this.</p>
</div>
    </section>

    
        <footer>
            <p><a href='http://hzmangel.github.io/post/1195/'><nobr>继续阅读 →</nobr></a></p>
        </footer>
    

</article>

        
            <article class="post">

    <header>
        <h2 class="post-title"><a href='http://hzmangel.github.io/post/1191/'> Change font size of UITextView dynamically</a> </h2>
        <div class="post-meta">发表于2013-01-29 10:48:04 </div>
    </header>

    <section>
        <div class="post-summary">I am working on a UITextView related problem recently, the widget, which have a fixed size, but need to show all content passed in. The text passed in have different length, so the font size should be different. The code snippet below will change the font size dynamically based on the text. // Set the text before setting font size my_text_view.text = foo_text; // Set the default font name and size int pre_defined_font_size = 14; my_text_view.font = [UIFont fontWithName:@&quot;Helvetica&quot; size:pre_defined_font_size]; // Change the font size if needed if (my_text_view.contentSize.height &gt; my_text_view.frame.size.height) { int adjust_font_size = 1; while (my_text_view.contentSize.height &gt; my_text_view.frame.size.height) { my_text_view.font = [UIFont fontWithName:@&quot;Helvetica&quot; size:pre_defined_font_size-adjust_font_size]; adjust_font_size++; } } There is a comparison between content height and frame height.</div>
    </section>

    
        <footer>
            <p><a href='http://hzmangel.github.io/post/1191/'><nobr>继续阅读 →</nobr></a></p>
        </footer>
    

</article>

        
            <article class="post">

    <header>
        <h2 class="post-title"><a href='http://hzmangel.github.io/post/1189/'> Show alert box in calendar operations of iOS6</a> </h2>
        <div class="post-meta">发表于2013-01-24 23:47:55 </div>
    </header>

    <section>
        <div class="post-summary">With the new permission schema in iOS6, app should acquire authentication before accessing calendar. So the code for calendar operation should be surrounded like this: EKEventStore *eventStore = [[EKEventStore alloc] init]; EKEvent *event = [EKEvent eventWithEventStore:eventStore]; [eventStore requestAccessToEntityType:EKEntityTypeEvent completion:^(BOOL granted, NSError *error) { if (granted) { // Calendar operation } }]; As you can see, the code for calendar operation is written in a block. After the operation completed, you may want to show customer an alert box to say the operation is done.</div>
    </section>

    
        <footer>
            <p><a href='http://hzmangel.github.io/post/1189/'><nobr>继续阅读 →</nobr></a></p>
        </footer>
    

</article>

        
            <article class="post">

    <header>
        <h2 class="post-title"><a href='http://hzmangel.github.io/post/1183/'> Compile Object-C program in command line</a> </h2>
        <div class="post-meta">发表于2013-01-24 09:41:13 </div>
    </header>

    <section>
        <div class="post-summary"><p>Recently I am working on an iOS project, and I am getting interested in the
language itself. But it is inconvenient to start Xcode for each program,
especially for program without UI elements in. So I want to set up a command
line environment that can compile and execute ObjC program.</p>
</div>
    </section>

    
        <footer>
            <p><a href='http://hzmangel.github.io/post/1183/'><nobr>继续阅读 →</nobr></a></p>
        </footer>
    

</article>

        
            <article class="post">

    <header>
        <h2 class="post-title"><a href='http://hzmangel.github.io/post/1176/'> Invoke map app in iOS app</a> </h2>
        <div class="post-meta">发表于2012-12-26 11:28:34 </div>
    </header>

    <section>
        <div class="post-summary"><p>最近在写个app，要调地图来展示一个地点，于是就有了三种选择：ios5之前的, 装了gmap的ios6和没装gmap的，在网上转了转，拼出来下面一段代码：</p>
</div>
    </section>

    
        <footer>
            <p><a href='http://hzmangel.github.io/post/1176/'><nobr>继续阅读 →</nobr></a></p>
        </footer>
    

</article>

        
            <article class="post">

    <header>
        <h2 class="post-title"><a href='http://hzmangel.github.io/post/1166/'> Dismiss keyboard in UITextViewController</a> </h2>
        <div class="post-meta">发表于2012-07-18 14:43:32 </div>
    </header>

    <section>
        <div class="post-summary"><p>The method is collected from Internet and I just record it with my way.</p>
</div>
    </section>

    
        <footer>
            <p><a href='http://hzmangel.github.io/post/1166/'><nobr>继续阅读 →</nobr></a></p>
        </footer>
    

</article>

        
            <article class="post">

    <header>
        <h2 class="post-title"><a href='http://hzmangel.github.io/post/1159/'> Playing MongoDB with Rails</a> </h2>
        <div class="post-meta">发表于2012-06-19 16:07:16 </div>
    </header>

    <section>
        <div class="post-summary"><p>This post will try to implement a web app used for recording mobile phone of
cheaters. This idea is came from cooler@linuxfb, and I have used this for a
presentation about GAE on 2009, and here is the
<a href="http://www.slideshare.net/linuxfb/20090222-gae-demo-7083477">slide</a>.</p>

<p>NOTE: Code still under developing, the Git repo is shown at the end of
article.</p>
</div>
    </section>

    
        <footer>
            <p><a href='http://hzmangel.github.io/post/1159/'><nobr>继续阅读 →</nobr></a></p>
        </footer>
    

</article>

        

        <nav id="pager">
    <div class="row">
        <div class="col-md-6">
            
                <h4><a href="/categories/happy-coding/page/2/">上一页</a></h4>
            
        </div>

        <div class="col-md-6">
            
                <h4 class="text-right"><a href="/categories/happy-coding/page/4/">下一页</a></h4>
            
        </div>
    </div>
</nav>


    </div>

    <div class="col-md-3">
        <aside id="sidebar">

    <div class="sidebar-block">
        <h5>新鲜出炉</h5>
        <ul class="list-unstyled">
        
            <li><a href='http://hzmangel.github.io/post/grape_n_strong_parameter/'> Rails - Fix ActiveModel::ForbiddenAttributesError in grape
</a></li>
        
            <li><a href='http://hzmangel.github.io/post/rails_reload_parent_in_iframe/'> Rails - Reload Parent Page in iframe
</a></li>
        
            <li><a href='http://hzmangel.github.io/post/rails_elasticsearch_indexing/'> Integrate Rails with Elasticsearch - Indexing
</a></li>
        
            <li><a href='http://hzmangel.github.io/post/different_auth_method_in_rails_api/'> Use Different Auth Method In Rails API Controller
</a></li>
        
            <li><a href='http://hzmangel.github.io/post/hadoop_study_log_1_env_setup/'> Hadoop Study Log 1: Env Setup
</a></li>
        
        </ul>
    </div>

    <div class="sidebar-block">
        <h5>分类</h5>
        <ul class="list-unstyled">
        
            <li><a href="/categories/btup">btup</a> &nbsp;(23)</li>
        
            <li><a href="/categories/happy-coding">happy-coding</a> &nbsp;(93)</li>
        
            <li><a href="/categories/%E5%96%84%E7%94%A8%E4%BD%B3%E8%BD%AF">善用佳软</a> &nbsp;(26)</li>
        
            <li><a href="/categories/%E5%A5%BD%E4%B8%9C%E4%B8%9Clatex">好东东latex</a> &nbsp;(20)</li>
        
            <li><a href="/categories/%E5%B0%8F%E4%BC%81%E9%B9%85linux">小企鹅linux</a> &nbsp;(73)</li>
        
            <li><a href="/categories/%E6%90%AD%E5%95%8A%E6%90%AD%E6%90%AD%E7%94%B5%E8%B7%AF">搭啊搭搭电路</a> &nbsp;(7)</li>
        
            <li><a href="/categories/%E6%9D%82%E4%B9%9D%E6%9D%82%E5%8D%81_">杂九杂十_</a> &nbsp;(140)</li>
        
            <li><a href="/categories/%E6%B8%B8%E6%88%8F%E4%BA%BA%E7%94%9F">游戏人生</a> &nbsp;(13)</li>
        
            <li><a href="/categories/%E9%82%A3%E5%B1%B1%E9%82%A3%E6%B0%B4">那山那水</a> &nbsp;(52)</li>
        
            <li><a href="/categories/%E9%A3%8E%E9%9B%A8%E8%80%83%E7%A0%94%E8%B7%AF">风雨考研路</a> &nbsp;(11)</li>
        
            <li><a href="/categories/%E9%A5%95%E9%A4%AE%E4%B9%8B%E4%BA%AB">饕餮之享</a> &nbsp;(4)</li>
        
        </ul>
    </div>

    <div class="sidebar-block">
        <h5>标签</h5>
        <div id="tag_cloud" data-tags=" ['admin', 4, '/tags/admin'];  ['android', 1, '/tags/android'];  ['base64', 1, '/tags/base64'];  ['blog', 1, '/tags/blog'];  ['carrierwave', 1, '/tags/carrierwave'];  ['dtrace', 1, '/tags/dtrace'];  ['elasticsearch', 1, '/tags/elasticsearch'];  ['flex', 1, '/tags/flex'];  ['gfw', 1, '/tags/gfw'];  ['golang', 4, '/tags/golang'];  ['hadoop', 1, '/tags/hadoop'];  ['ios', 6, '/tags/ios'];  ['java', 1, '/tags/java'];  ['javascript', 2, '/tags/javascript'];  ['jqplot', 1, '/tags/jqplot'];  ['jquery', 2, '/tags/jquery'];  ['linux', 15, '/tags/linux'];  ['meta', 1, '/tags/meta'];  ['mmds', 7, '/tags/mmds'];  ['objc', 1, '/tags/objc'];  ['performance', 1, '/tags/performance'];  ['php', 1, '/tags/php'];  ['programming', 60, '/tags/programming'];  ['python', 8, '/tags/python'];  ['rails', 12, '/tags/rails'];  ['regexp', 1, '/tags/regexp'];  ['ruby', 4, '/tags/ruby'];  ['rubyonrails', 4, '/tags/rubyonrails'];  ['studylog', 11, '/tags/studylog'];  ['til', 3, '/tags/til'];  ['tools', 7, '/tags/tools'];  ['vim', 4, '/tags/vim'];  ['仙剑', 1, '/tags/%E4%BB%99%E5%89%91'];  ['十渡', 1, '/tags/%E5%8D%81%E6%B8%A1'];  ['工作', 3, '/tags/%E5%B7%A5%E4%BD%9C'];  ['徒步', 16, '/tags/%E5%BE%92%E6%AD%A5'];  ['总结', 4, '/tags/%E6%80%BB%E7%BB%93'];  ['感想', 7, '/tags/%E6%84%9F%E6%83%B3'];  ['摄影', 14, '/tags/%E6%91%84%E5%BD%B1'];  ['旅行', 27, '/tags/%E6%97%85%E8%A1%8C'];  ['游戏', 1, '/tags/%E6%B8%B8%E6%88%8F'];  ['电影', 1, '/tags/%E7%94%B5%E5%BD%B1'];  ['骑行', 8, '/tags/%E9%AA%91%E8%A1%8C']; " />
    </div>

</aside>



    </div>
</div>

        <footer class="site-footer clearfix">
            <div id="colophon">
                <section class="col-md-7">Copyright - ©2015 - hzmangel</section>
                
                    <i class="text-right"><section class="col-md-5">Proudly generated by <a class="icon-hugo" href="http://gohugo.io">HUGO</a>, with <a class="icon-theme" href="https://github.com/hzmangel/hugo-twenty-ten">ported Twenty Ten</a> theme</section></i>
                
            </div>
        </footer>

        <script src="http://code.jquery.com/jquery-git2.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>

        <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.6/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script>

        <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
        <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
          tex2jax: {
            inlineMath: [['$','$'], ['\\(','\\)']],
            displayMath: [['$$','$$'], ['\[','\]']],
            processEscapes: true,
            processEnvironments: true,
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
            TeX: { equationNumbers: { autoNumber: "AMS" },
                 extensions: ["AMSmath.js", "AMSsymbols.js"] }
          }
        });
        </script>

        <script type="text/x-mathjax-config">
          MathJax.Hub.Queue(function() {
            
            
            
            var all = MathJax.Hub.getAllJax(), i;
            for(i = 0; i < all.length; i += 1) {
                all[i].SourceElement().parentNode.className += ' has-jax';
            }
        });
        </script>

        <script type="text/javascript" src="http://hzmangel.github.io/js/index.js"></script>
        <script>
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

            ga('create', 'UA-1847567-5', 'auto');
            ga('send', 'pageview');
        </script>

    </div> 

</body>
</html>

