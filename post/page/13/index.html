<!DOCTYPE html>
<html lang="zh-cn">
    <head>
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />

        <meta property="og:title" content=" Posts &middot;  湖间小筑" />
        <meta property="og:site_name" content="湖间小筑" />
        <meta property="og:url" content="http://hzmangel.github.io/post/" />

        
            <meta property="og:type" content="website" />
        

        <title>
            湖间小筑
            
                | Posts
            
        </title>

        <meta name="description" content="" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />

        <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css" rel="stylesheet">

        <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.6/styles/atelier-dune.dark.min.css">

        <link rel="stylesheet" type="text/css" href="http://hzmangel.github.io/css/screen.css" />

        
          <link href="http://hzmangel.github.io/post/index.xml" rel="alternate" type="application/rss+xml" title="湖间小筑" />
          <link href="http://hzmangel.github.io/post/index.xml" rel="feed" type="application/rss+xml" title="湖间小筑" />
        

        <link rel="canonical" href="http://hzmangel.github.io/post/" />
    </head>

    <body>
        <div class="container" id="site-wrapper">
            <header>
    <div class="row">
        <div class="col-md-6" id="site-title">
            <a href="http://hzmangel.github.io/" title="湖间小筑" rel="home"><h2>湖间小筑</h2></a>
        </div>

        <div class="col-md-6" id="site-description">
            <i class="text-right muted"><div id="site-description">蓝天，小湖，湖水中一方小筑</div></i>
        </div>
    </div>

    <img src="/img/banner.jpg" class="img-responsive">
</header>

            <nav role="navigation">

</nav>





<div class="row">
    <div class="col-md-9">
        
            <article class="post">

    <header>
        <h2 class="post-title"><a href='http://hzmangel.github.io/post/351/'> 配置crontab</a> </h2>
        <div class="post-meta">发表于2008-10-10 10:16:14 </div>
    </header>

    <section>
        <div class="post-summary">关键字： crontab crontab -e编辑当前用户的crontab，这个应该没啥说的了，设置环境变量EDITOR可以更改编辑crontab的编辑器。 文件里面就是一行算是一个任务，前面5列是执行的时间，分别是 分 时 日 月 星期，在man 5 crontab里面能看到允许的值。如果是 * 则表示是所有值。然后就是这样了，如果我有一个任务需要每天的10点运行，则就写成 0 10 * * * XXX ，如果要每2小时跑一次，可以写成 0 */2 * * * XXX 。 还要说一下最后运行的那个命令，它会新开一个进程跑，那个进程只有USER, HOME, SHELL这三个环境变量，所以写命令的时候需要考虑到这一点。 下面，没有了&hellip;&hellip;</div>
    </section>

    

</article>

        
            <article class="post">

    <header>
        <h2 class="post-title"><a href='http://hzmangel.github.io/post/350/'> 主机名解析顺序</a> </h2>
        <div class="post-meta">发表于2008-09-27 13:50:36 </div>
    </header>

    <section>
        <div class="post-summary">关键字： 主机名解析 折腾机器，明明已经在/etc/hosts里面把一个东西给更新了，但是ping主机名还是ping不通，解析出来的IP地址还是原来的一个地址。后来上网转了一圈， 知道解析的顺序是通过配置文件确定的，于是就简单了，在Linux上是/etc/nsswitch.conf，在AIX上是/etc/netsvc.conf，在Li nux的配置文件里面写hosts: files dns，AIX的写hosts = local, bind就可以保证先由/etc/hosts解析了，嗯。</div>
    </section>

    

</article>

        
            <article class="post">

    <header>
        <h2 class="post-title"><a href='http://hzmangel.github.io/post/348/'> feed地址更改</a> </h2>
        <div class="post-meta">发表于2008-09-23 11:09:54 </div>
    </header>

    <section>
        <div class="post-summary">由于9月30号后绑米好像要收钱了，所以暂时地址会转回http://sonic.72pines.com，如果有feed订阅的，可以使用feedsky的地址 ：http://feed.feedsky.com/hzmangel，感谢大家的关注。</div>
    </section>

    

</article>

        
            <article class="post">

    <header>
        <h2 class="post-title"><a href='http://hzmangel.github.io/post/347/'> 在iptables中配置nat包转发</a> </h2>
        <div class="post-meta">发表于2008-09-23 11:08:16 </div>
    </header>

    <section>
        <div class="post-summary">关键字：iptables, nat, 包转发 两台机器，一台有多块网卡，能连外网，算是A吧，另一台连在A上，就叫B吧。现在的情况就是，有一台机器C，机器A能连上，机器B连不上，于是就要在A上做一个转发， 把B发来的到C的包都转出去。 于是就有了一句iptables: iptables -t nat -A POSTROUTING \ -s [ip of addr B] -d \ [ip addr if C] -j SNAT \ --to-source [outer ip addr of A] 下面逐段解释一下，第一个选项-t表示要把东西加到nat表中，iptables默认使用的是filter表；选项A表示是要把这条规则加到POSTROUTING链 中的，系统在决定了数据包的路由后执行该链中的规则；-s选项表示源目的地址，在这个配置中就是内网机器B的地址；-d选项指定目的地址，即C的地址；SNAT操作表 示改变包的源地址；最后&ndash;to-source写的是机器A的地址，然后就配完了，嗯。</div>
    </section>

    

</article>

        
            <article class="post">

    <header>
        <h2 class="post-title"><a href='http://hzmangel.github.io/post/346/'> 被ThinkPad惯坏了</a> </h2>
        <div class="post-meta">发表于2008-09-22 11:33:14 </div>
    </header>

    <section>
        <div class="post-summary">关键字：鼠标, 小红点 周六去村里试买硬盘，要试的时候拿到了台大概是HP的机器，上来先去找小红点，没找到，第二反应去旁边找鼠标，也没找到，然后问卖东西的：机器没鼠标，不会用。然后别 人过来告诉我，机器下面那个板可以用。诶，当时那叫一个郁闷啊&hellip;&hellip;</div>
    </section>

    

</article>

        
            <article class="post">

    <header>
        <h2 class="post-title"><a href='http://hzmangel.github.io/post/345/'> 登顶妙峰</a> </h2>
        <div class="post-meta">发表于2008-09-22 08:44:10 </div>
    </header>

    <section>
        <div class="post-summary">关键字： 妙峰山, 骑行, 摔车, 淋雨 话说那天去骑行版逛，看到有说骑妙峰山的，想了想，决定跟着去自虐，于是就报名了。 车子前几天在雨里面呆了一段时间，所以周五晚上赶快去买了瓶润滑油，弄在车上，反正也不知道是心理作用还是啥，反正感觉就是快了点，于是就准备带着我的那辆车过去了。 周日早上7点前到了图书馆，居然还没人来。等了会人，收拾收拾了车子，一行13人就浩浩荡荡的出发了。 路线很简单，北邮，复兴门，首钢大门，妙峰山。路上没啥好说的，到了妙峰山牌楼才算是正式开始。20.5公里的山路，前7公里坡比较缓，7到14公里开始难爬了，17 到18是最难的。在16左右的时候会路过涧沟村，差不多就是这样了吧。 爬山的过程嘛，是很痛苦的，看着往前方延伸的公路，想着遥遥无期的终点，拖着疲惫的双腿，呵呵，只能一点一点重复机械性的动作。其实最痛苦的事情就是怎么蹬也蹬不动， 总算是体会到小盘带大飞还走不动的感觉了，嗯。最后的结果就是，历时1小时55分，终于慢慢蹭上山了。中间补充了一个士力架，一瓶脉动，水若干，结果还是推车无数次， 正是因为考虑到这种情况，所以上山前码表根本没清零，要不然那数字看着太难看了，哈哈。这次去妙和上周一样，山上都是云啊雾啊的，有段路能见度大概只有几十米，反正就 看开的车都打着车灯小心翼翼的在那走，至于我嘛，那会根本没速度，呵呵，想危险也危险不起来。到了20公里的时候，有一小段下坡，那叫一个爽啊，最后500米是冲的最 快的。 冲到了停车场，看到了先上去的冻的瑟瑟发抖的5个人，照了张像，开始放山。本来以为雾大太，不敢放，结果放山的时候雾散掉不少，于是就放了，我是没敢太快，最快大概也 就40，一般是在30到35。然后，在某个拐弯的时候，感觉有点快，小碰了一下刹车，然后就是一阵天翻地覆啊，等再能控制的时候，情形基本是这样？车子躺在某个沟里面 ，我躺在车子上面。还好除了车子被磕了一下，裤子一个大口，衣服上有点划伤，身上几处擦伤外，没有什么大事。现在想想还是很后怕，如果碰到石头，或者翻的是另一边，直 接翻下山。今天真是福大命大，感谢我的头盔，车子，衣服帮我挡掉了许多事情，还要感谢今天所有bless我的各界生（死）灵们。 摔车后，更加控制了速度，而且在拐弯的时候，只在入弯前减速，入弯后就全神贯注的去控制方向了。平安下到了7公里处，冲洗了伤口然后开始等着吃饭。等人差不多到齐了， 就冲进了那家饭店开始对上来的菜重复的进行秒杀的操作。 话说正在吃的时候，郁闷的事情发生了，外面开始下雨，而且很大。本来想等一会雨停了以后走，但是看着雨没有停的意思，只好冒雨上路。由于都没雨具，所以身上不一会就全 湿了。话说，由于车子没有挡泥板，所以最先湿的是PP那块，然后就是甩上来的水把全身慢慢的打湿，顺便附赠一堆泥沙。等到后来，被雨淋的直接麻木了，见到水也不躲着骑 了，呵呵。再就没了，回家，洗澡洗衣擦车，写完这个后准备睡觉。 PS1：骑行上妙很痛苦，放山很爽，摔车很痛苦，头盔很有用。 PS2：总行程大概133.8公里，妙峰山单程山路20.5公里，最后60多公里是在雨里走的，最高速度45.3，平均速度18，骑行时间7小时14分钟。反正这是我 码表上的数据，大概有些不准，嗯。 PS3：家里面不能上网真不爽啊。 PSE：再次感谢今天保护我免于受伤的所有的灵们~~~~~~</div>
    </section>

    

</article>

        
            <article class="post">

    <header>
        <h2 class="post-title"><a href='http://hzmangel.github.io/post/344/'> 使用NFS在AIX上挂载Linux分区</a> </h2>
        <div class="post-meta">发表于2008-09-18 13:30:03 </div>
    </header>

    <section>
        <div class="post-summary">关键字： AIX, NFS, Not owner 起因很简单，因为在折腾机器，在AIX上解压怎么也不对，只好想到了NFS的方式。首先保证两台机器能互相通信（也就是能ping通啦），然后编辑NFS服务器即Li nux机器上的/etc/exports的文件，在其中加上一行：&lt;path&gt; &lt;hostname/ip&gt;(&lt;option&gt; )，第一个是在Linux服务器上的路径，第二个是需要挂载此文件夹主机的主机名或者IP地址，最后括号中是选项，一般是rw, async。改完后重启NFS的服务器，此时在服务器上用exportfs命令应该能看到刚加到配置文件中的一行。此时服务器端应该算是设置完成了。 在客户端的AIX机器上，首先需要确定portmap和nfs后台进程的存在，命令嘛就是startsrc -s portmap和startsrc -g nfs，然后就是用mount命令了，不用加-t nfs，直接就是mount &lt;ip&gt;:&lt;path&gt; &lt;mount_point&gt;。 简单吧，不过需要说说vmount: Not owner这个问题（以下解答转自zhaolin日志）出现这个问题的原因是linux操作系统在响应AIX操作系统的mount请求时，需要用到此nfs保留端口，该端 口在默认情况下是不会开放的。所以需要在AIX客户端设置一下： # nfso -o nfs_use_reserved_ports=1 Setting nfs_use_reserved_ports to 1 然后再重新mount就没问题了。还有就是可能需要在AIX的/etc/hosts下添加服务器地址和IP映射，否则有可能会找不到，嗯。 目前只是挂载上，能读，至于能不能写再说吧，嘿嘿。</div>
    </section>

    

</article>

        
            <article class="post">

    <header>
        <h2 class="post-title"><a href='http://hzmangel.github.io/post/343/'> 奥运，结束了</a> </h2>
        <div class="post-meta">发表于2008-09-17 21:20:35 </div>
    </header>

    <section>
        <div class="post-summary">嗯，有些失落，有些感伤，有些兴奋，所以我也不知道是啥心情了。记一笔，然后继续干活，呵呵。</div>
    </section>

    

</article>

        
            <article class="post">

    <header>
        <h2 class="post-title"><a href='http://hzmangel.github.io/post/342/'> 雾锁妙峰</a> </h2>
        <div class="post-meta">发表于2008-09-16 10:50:39 </div>
    </header>

    <section>
        <div class="post-summary">关键字： 出行, 妙峰山, 雾 中秋三天假，不想宅三天，于是以编外身份友情参加了某罐组织的妙峰山一日游（某罐大叫：是强行加入，然后被暴扁）。 由于是第二次去那边了（无聊吧），所以基本算是轻车熟路。6点钟就把2点钟睡的自己给折腾起来了，磨叽磨叽7点到学校，找某罐吃完早饭后就开始等，嗯。话说某些同志家 里面的表大概慢了，所以我们就多等了会。然后，公车倒城铁再倒地铁到了苹果园，期间由于人多，所以木有怎么关照罐子，嗯。 下车后虽然不是从上次那个口出来的，但是还好没带着大部队迷路，成功的找到了929车站。不过没抢上第一轮来的车，在后面一辆918上坐了一会，被告知不到丁家滩，于 是集体冲下车，看到那还在继续伸长的队伍，大家心里一凉，于是被忽悠上了黑车，单程30每人。 路上和司机师傅商量了一会，决定到了涧沟村下车然后自己往上走，就是我上次走的那条路，只是要花钱买门票，嗯。 带着他们在村子里面一阵乱转，把大家都弄的晕头转向的时候，告诉他们，开始爬山了，然后我就冲到前面去了，我太邪恶了，嗯。话说那天由于是阴天，山顶云雾缭绕（感觉有 一部分应该是烟，嗯），若隐若现，过了玉皇顶就基本上是在雾里面穿行了，山边的小草上挂的都是水珠，可惜相机是自动对焦的，对了几次都没对上，于是只好放弃拍照的想法 。 然后，就顺利登顶了，放眼望去都是白茫茫的一片，别有一番意思。下到玉皇顶后又去旁边的玫瑰园转了一圈，居然还能看到一两朵花，奇异到诡异了，呵呵。 再，就没啥了，坐车下山到苹果园，城铁倒公车回学校。去大粥锅小腐败一下后，又去赶同学的场了。 结论：一定要勤加锻炼啊，要不然山都爬不动~~~~</div>
    </section>

    

</article>

        
            <article class="post">

    <header>
        <h2 class="post-title"><a href='http://hzmangel.github.io/post/341/'> patch的-p参数</a> </h2>
        <div class="post-meta">发表于2008-09-05 14:02:24 </div>
    </header>

    <section>
        <div class="post-summary">关键字： patch, 用法 先用diff比较两个目录，在patch的时候，如果要打补丁的目录和diff时的目录放的地方不一样，它会报找不到文件的错，此时需要用到-p的参数，-p后面跟一 个数字作为参数，表示忽略diff文件中第几个/前的东西。如-p5表示忽略第5个/前的东西。比如在diff的时候，比较的是a/foo和b/foo两个文件夹，那 么输出的diff文件中，文件名是a/foo/XXXX，此时如果要给c/foo下的一个东西打补丁，那么直接打就不行了。此时应该到c目录中，然后用patch -p1命令来打，嗯。 外一则，如果被打补丁的目录中有些文件不存在了，patch会停下来问你咋办，如果在命令行中加上- t的参数，那么它就不会停而是直接跳过，开始打下一个文件的补丁了。 记一笔，嗯。</div>
    </section>

    

</article>

        

        <nav id="pager">
    <div class="row">
        <div class="col-md-6">
            
                <h4><a href="/post/page/12/">上一页</a></h4>
            
        </div>

        <div class="col-md-6">
            
                <h4 class="text-right"><a href="/post/page/14/">下一页</a></h4>
            
        </div>
    </div>
</nav>


    </div>

    <div class="col-md-3">
        <aside id="sidebar">

    <div class="sidebar-block">
        <h5>新鲜出炉</h5>
        <ul class="list-unstyled">
        
            <li><a href='http://hzmangel.github.io/post/new-github-blog/'> Blog搬(zhe)家(teng)记</a></li>
        
            <li><a href='http://hzmangel.github.io/post/1239/'> Control Goroutines amount via bufferred channel</a></li>
        
            <li><a href='http://hzmangel.github.io/post/1233/'> Golang and JSON API</a></li>
        
            <li><a href='http://hzmangel.github.io/post/1230/'> goroutines &#43; channel</a></li>
        
            <li><a href='http://hzmangel.github.io/post/1224/'> Save base64 image with carrierwave and bootstrap-wysiwyg</a></li>
        
        </ul>
    </div>

    <div class="sidebar-block">
        <h5>分类</h5>
        <ul class="list-unstyled">
        
            <li><a href="/categories/btup">btup</a> &nbsp;(23)</li>
        
            <li><a href="/categories/happy-coding">happy-coding</a> &nbsp;(79)</li>
        
            <li><a href="/categories/%E5%96%84%E7%94%A8%E4%BD%B3%E8%BD%AF">善用佳软</a> &nbsp;(26)</li>
        
            <li><a href="/categories/%E5%A5%BD%E4%B8%9C%E4%B8%9Clatex">好东东latex</a> &nbsp;(20)</li>
        
            <li><a href="/categories/%E5%B0%8F%E4%BC%81%E9%B9%85linux">小企鹅linux</a> &nbsp;(73)</li>
        
            <li><a href="/categories/%E6%90%AD%E5%95%8A%E6%90%AD%E6%90%AD%E7%94%B5%E8%B7%AF">搭啊搭搭电路</a> &nbsp;(7)</li>
        
            <li><a href="/categories/%E6%9D%82%E4%B9%9D%E6%9D%82%E5%8D%81_">杂九杂十_</a> &nbsp;(140)</li>
        
            <li><a href="/categories/%E6%B8%B8%E6%88%8F%E4%BA%BA%E7%94%9F">游戏人生</a> &nbsp;(13)</li>
        
            <li><a href="/categories/%E9%82%A3%E5%B1%B1%E9%82%A3%E6%B0%B4">那山那水</a> &nbsp;(52)</li>
        
            <li><a href="/categories/%E9%A3%8E%E9%9B%A8%E8%80%83%E7%A0%94%E8%B7%AF">风雨考研路</a> &nbsp;(11)</li>
        
            <li><a href="/categories/%E9%A5%95%E9%A4%AE%E4%B9%8B%E4%BA%AB">饕餮之享</a> &nbsp;(4)</li>
        
        </ul>
    </div>

    <div class="sidebar-block">
        <h5>标签</h5>
        <div id="tag_cloud" data-tags=" ['admin', 4, '/tags/admin'];  ['android', 1, '/tags/android'];  ['base64', 1, '/tags/base64'];  ['blog', 1, '/tags/blog'];  ['carrierwave', 1, '/tags/carrierwave'];  ['dtrace', 1, '/tags/dtrace'];  ['flex', 1, '/tags/flex'];  ['gfw', 1, '/tags/gfw'];  ['golang', 3, '/tags/golang'];  ['ios', 6, '/tags/ios'];  ['java', 1, '/tags/java'];  ['javascript', 2, '/tags/javascript'];  ['jqplot', 1, '/tags/jqplot'];  ['jquery', 2, '/tags/jquery'];  ['linux', 15, '/tags/linux'];  ['meta', 1, '/tags/meta'];  ['objc', 1, '/tags/objc'];  ['performance', 1, '/tags/performance'];  ['php', 1, '/tags/php'];  ['programming', 46, '/tags/programming'];  ['python', 7, '/tags/python'];  ['rails', 8, '/tags/rails'];  ['regexp', 1, '/tags/regexp'];  ['ruby', 4, '/tags/ruby'];  ['tools', 7, '/tags/tools'];  ['vim', 4, '/tags/vim'];  ['仙剑', 1, '/tags/%E4%BB%99%E5%89%91'];  ['十渡', 1, '/tags/%E5%8D%81%E6%B8%A1'];  ['工作', 3, '/tags/%E5%B7%A5%E4%BD%9C'];  ['徒步', 16, '/tags/%E5%BE%92%E6%AD%A5'];  ['总结', 4, '/tags/%E6%80%BB%E7%BB%93'];  ['感想', 7, '/tags/%E6%84%9F%E6%83%B3'];  ['摄影', 14, '/tags/%E6%91%84%E5%BD%B1'];  ['旅行', 27, '/tags/%E6%97%85%E8%A1%8C'];  ['游戏', 1, '/tags/%E6%B8%B8%E6%88%8F'];  ['电影', 1, '/tags/%E7%94%B5%E5%BD%B1'];  ['骑行', 8, '/tags/%E9%AA%91%E8%A1%8C']; " />
    </div>

</aside>



    </div>
</div>

        <footer class="site-footer clearfix">
            <div id="colophon">
                <section class="col-md-7">Copyright - ©2015 - hzmangel</section>
                
                    <i class="text-right"><section class="col-md-5">Proudly generated by <a class="icon-hugo" href="http://gohugo.io">HUGO</a>, with <a class="icon-theme" href="https://github.com/hzmangel/hugo-twenty-ten">ported Twenty Ten</a> theme</section></i>
                
            </div>
        </footer>

        <script src="http://code.jquery.com/jquery-git2.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>

        <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.6/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script>

        <script type="text/javascript" src="http://hzmangel.github.io/js/index.js"></script>
        <script>
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

            ga('create', 'UA-1847567-5', 'auto');
            ga('send', 'pageview');
        </script>

    </div> 

</body>
</html>

