<!doctype html><html lang=zh-cn><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta property="og:title" content="MMDS Notes: W2 - Frequent Itemsets - Part I
 &#183;  湖间小筑"><meta property="og:site_name" content="湖间小筑"><meta property="og:url" content="http://hzmangel.github.io/post/mmds-w2-frequent-itemsets-p1/"><meta property="og:type" content="article"><meta property="og:article:published_time" content="2015-06-26T19:35:21+08:00"><meta property="og:article:tag" content="Programming"><meta property="og:article:tag" content="mmds"><meta property="og:article:tag" content="StudyLog"><title>湖间小筑
| MMDS Notes: W2 - Frequent Itemsets - Part I</title><meta name=description content="蓝天，小湖，湖水中一方小筑"><meta name=viewport content="width=device-width,initial-scale=1"><link rel=stylesheet href=https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css integrity=sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk crossorigin=anonymous><link rel=stylesheet href=//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.0.0/styles/default.min.css><link rel=stylesheet type=text/css href=http://hzmangel.github.io/css/screen.css><link rel=canonical href=http://hzmangel.github.io/post/mmds-w2-frequent-itemsets-p1/></head><body><div class=container-md id=site-wrapper><header><div class=row><div class=col-md-6 id=site-title><a href=http://hzmangel.github.io/ title=湖间小筑 rel=home><h2>湖间小筑</h2></a></div><div class=col-md-6 id=site-description><i class="text-right muted"><div id=site-description>蓝天，小湖，湖水中一方小筑</div></i></div></div><img src=/img/banner.jpg class=img-responsive></header><nav role=navigation></nav><div class=row><div class=col-md-9><section><article class=post><header><h2 class=post-title><a href=http://hzmangel.github.io/post/mmds-w2-frequent-itemsets-p1/>MMDS Notes: W2 - Frequent Itemsets - Part I</a></h2><div class=post-meta>发表于2015-06-26 19:35:21</div></header><section><div class=post-summary><p>第二周的最后一块内容是 <em>Frequent Itemsets</em> 。主要介绍了 <em>Frequent Itemsets</em> ， <em>Association Rule</em> 以及算法。这一部分介绍前面的，后面一篇会介绍算法和优化。</p><h2 id=market-basket-模型><em>Market-Basket</em> 模型</h2><p>这个模型一般用来描述两种数据之间的 <em>m2m</em> 关系。其中的一个数据是 <em>item</em> ，而另一个是 <em>baskets</em> 。每一个 <em>basket</em> 中包含有多个 <em>items</em> ，即为 <em>itemset</em> 。 通常认为：</p><ul><li><em>basket</em> 中的 <em>items</em> 数量较少，远小于整体 <em>items</em> 的数量。</li><li><em>basket</em> 的数量较大，不能完全的放于内存中。</li></ul><p>这是一个模型的例子：</p><ul><li><em>Market</em> ：一个超级市场。</li><li><em>Item</em> ：市场中售卖的所有东西。</li><li><em>Basket</em> ：用户的订单。</li></ul><h3 id=frequent-itemsets><em>Frequent Itemsets</em></h3><p><em>Frequent Itemsets</em> 即指在 <em>baskets</em> 中经常出现的 <em>itemset</em> ，它的定义为：</p><blockquote><p>假设 <em>I</em> 是一个 <em>itemset</em> ，定义 <em>I</em> 的 <em>support</em> 为包含 <em>I</em> 的 <em>basket</em> 个数。定义数字 <em>s</em> 为 <em>support threshold</em> ，所有 <em>support</em> 数超过 <em>s</em> 的 <em>I</em> 即为 <em>frequent itemset</em> 。</p></blockquote><p><strong>注意</strong> ：一个 <em>basket</em> 可能包含有多个 <em>itemset</em> ，并不是说一个 <em>basket</em> 中包含的就是一个 <em>itemset</em> 。</p><p>一个 <em>itemset</em> 可以包含有不定个元素。如果一个 <em>itemset</em> 是 <em>frequent itemset</em> ，那么它的的任何子集都是 <em>frequent itemset</em> 。</p><h4 id=应用场景>应用场景</h4><h5 id=超市商品>超市商品</h5><ul><li><em>item</em> ：超市商品。</li><li><em>basket</em> ：用户订单，上面包含有一个或多个商品。</li></ul><p>通过分析订单中的 <em>frequent itemsets</em> ，可以得出哪些商品会经常被同时购买。</p><h5 id=相关内容查找>相关内容查找</h5><ul><li><em>item</em> ：单词</li><li><em>basket</em> ：文档，如网页，blog，tweets等。包含一系列的单词。</li></ul><p>找出的 <em>frequent itemset</em> 中，肯定包含有一些 common word，除去这些词后，可以揭示出一些单词之间的关系。</p><h5 id=剽窃检测>剽窃检测</h5><ul><li><em>itme</em> ：文档</li><li><em>basket</em> ：句子。如果一个文档包含这个句子，那么它在这个 <em>basket</em> 中。</li></ul><p>找出的 <em>frequent itemset</em> 表示这些文档中有大量的句子相似，可以检测抄袭的方法。</p><h5 id=生物标记>生物标记</h5><ul><li><em>item</em> ：生物标记，如基因，血蛋白，疾病等。</li><li><em>basket</em> ：病人数据，如基因检测，生化指标等。</li></ul><p>找到的包含疾病和生物标记的 <em>frequent itemset</em> 可以用于疾病检测。</p><h3 id=association-rule><em>Association Rule</em></h3><p>定义 <code>$I \rightarrow j$</code> ，表示如果一个 <em>basket</em> 包含有 <code>{I}</code> 中所有的元素，那么它就有可能包含 <code>j</code> 。即 <code>{I}</code> 是一组元素，而 <code>j</code> 是一个元素。这个推断，就是一个 <em>association rule</em> 。 <em>association rule</em> 有一个属性为 <em>Confidence</em> ，它表示给了 <code>{I}</code> 后出现 <code>j</code> 的概率，即在所有包含<code>{I}</code>的 <em>basket</em> 中同时包含<code>j</code>的概率。</p><p>现在问题来了：找到所有 <em>support >= s</em> 且 <em>confidence >= c</em> 的 <em>association rule</em> 。此处的 <em>support</em> 是指 <code>{I}</code> 的 <em>support</em> ，而不是 <code>{I, j}</code> 的。</p><p>计算过程的描述如下：</p><ol><li>找到所有 <em>support >= sc</em> 的集合</li><li>找到所有 <em>support >= s</em> 的集合</li><li>如果 <code>{I, j}</code> 的 <em>support >= cs</em> ，那么找到它少一个元素，而且 <em>support >= s</em> 的子集。</li><li>当且仅当下面条件都满足时， <code>$I \rightarrow j$</code> 才是一个被接受的 <em>rule</em> 。</li></ol><ul><li><code>{I}</code> 的 <em>support s1 >= s</em></li><li><code>{I, j}</code> 的 <em>support s2 >= sc</em></li><li><em>s2/s1 >= c</em> （此比值即为 <em>confidence</em> 的定义）.</li></ul><p>在实现上，数据通常是以普通文件方式存储于磁盘上的，存储的方式是按 <em>basket</em> 排列。在读入数据时，即将数据切分成不同长度的集合。不难看出，磁盘IO是数据读取过程中主要的开销。在实践中，数据是多次读取的。所以在计算时，读取次数也是一个需要考虑的部分。</p><p>在计算过程中，由于设置的阈值比较高，所以通常能找到的就是 <em>frequent pair</em> ，所以这也是需要面对的最大问题。</p><h4 id=一般算法>一般算法</h4><p>一般的算法就是读一次文件，在内存中计算出所有 <em>pair</em> 出现的次数。对于一个有 <em>n</em> 个元素的 <em>basket</em> ，最后会生成 <em>n(n-1)/2</em> 个 <em>pair</em> 。所以如果 <em>n**2</em> 的大小超过内存，这个算法就会失败。</p><p>在计算上，有两种方式：</p><ul><li>计算所有数据对出现的次数，并存放于三角矩阵中。</li><li>使用类似稀疏矩阵的存储方法，使用坐标+次数的方式存储。</li></ul><p>第一种方式每个数据对需要 <code>4</code> 个字节（假设一个整型数使用4个字节）。第二种方式每对需要12字节（坐标及计数），但是只有存在的数据对才会占用空间。</p></div></section><footer><div class=post-meta>分类：<ul class=list-inline><li class=list-inline-item><a href=/categories/happy-coding>Happy coding</a></li></ul></div><div class=post-meta>标签：<ul class=list-inline><li class=list-inline-item><a href=/tags/programming><span class="label label-default">Programming</span></a></li><li class=list-inline-item><a href=/tags/mmds><span class="label label-default">mmds</span></a></li><li class=list-inline-item><a href=/tags/studylog><span class="label label-default">StudyLog</span></a></li></ul></div><br><nav class=post-meta><a class=previous href=http://hzmangel.github.io/post/mmds-w2-nearest-neighbor-learning/>&lt; MMDS Notes: W2 - Nearest Neighbor Learning</a>
<a class=next href=http://hzmangel.github.io/post/mmds-w2-frequent-itemsets-p2/>MMDS Notes: W2 - Frequent Itemsets - Part II
></a></nav><br></footer></article><div id=disqus_thread></div><script type=text/javascript>var disqus_shortname="hzmangel";(function(){var dsq=document.createElement('script');dsq.type='text/javascript';dsq.async=true;dsq.src='//'+disqus_shortname+'.disqus.com/embed.js';(document.getElementsByTagName('head')[0]||document.getElementsByTagName('body')[0]).appendChild(dsq);})();</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript rel=nofollow>comments powered by Disqus.</a></noscript></section></div><div class=col-md-3><aside id=sidebar><div class=sidebar-block><h5>新鲜出炉</h5><ul class=list-unstyled><li><a href=http://hzmangel.github.io/categories/>Categories</a></li><li><a href=http://hzmangel.github.io/categories/happy-coding/>Happy coding</a></li><li><a href=http://hzmangel.github.io/post/>Posts</a></li><li><a href=http://hzmangel.github.io/tags/programming/>Programming</a></li><li><a href=http://hzmangel.github.io/tags/rails/>rails</a></li></ul></div><div class=sidebar-block><h5>分类</h5><ul class=list-unstyled><li><a href=/categories/bt~~up>bt~~up</a> &nbsp;(23)</li><li><a href=/categories/happy-coding>happy-coding</a> &nbsp;(93)</li><li><a href=/categories/%E5%96%84%E7%94%A8%E4%BD%B3%E8%BD%AF>善用佳软</a> &nbsp;(26)</li><li><a href=/categories/%E5%A5%BD%E4%B8%9C%E4%B8%9Clatex>好东东latex</a> &nbsp;(20)</li><li><a href=/categories/%E5%B0%8F%E4%BC%81%E9%B9%85linux>小企鹅linux</a> &nbsp;(73)</li><li><a href=/categories/%E6%90%AD%E5%95%8A%E6%90%AD%E6%90%AD%E7%94%B5%E8%B7%AF>搭啊搭搭电路</a> &nbsp;(7)</li><li><a href=/categories/%E6%9D%82%E4%B9%9D%E6%9D%82%E5%8D%81_>杂九杂十_</a> &nbsp;(140)</li><li><a href=/categories/%E6%B8%B8%E6%88%8F%E4%BA%BA%E7%94%9F>游戏人生</a> &nbsp;(13)</li><li><a href=/categories/%E9%82%A3%E5%B1%B1%E9%82%A3%E6%B0%B4>那山那水</a> &nbsp;(52)</li><li><a href=/categories/%E9%A3%8E%E9%9B%A8%E8%80%83%E7%A0%94%E8%B7%AF>风雨考研路</a> &nbsp;(11)</li><li><a href=/categories/%E9%A5%95%E9%A4%AE%E4%B9%8B%E4%BA%AB>饕餮之享</a> &nbsp;(4)</li></ul></div><div class=sidebar-block><h5>标签</h5><div id=tag_cloud data-tags="['admin', 4, '/tags/admin'];  ['android', 1, '/tags/android'];  ['base64', 1, '/tags/base64'];  ['blog', 1, '/tags/blog'];  ['carrierwave', 1, '/tags/carrierwave'];  ['dtrace', 1, '/tags/dtrace'];  ['elasticsearch', 1, '/tags/elasticsearch'];  ['flex', 1, '/tags/flex'];  ['gfw', 1, '/tags/gfw'];  ['golang', 4, '/tags/golang'];  ['hadoop', 1, '/tags/hadoop'];  ['ios', 6, '/tags/ios'];  ['java', 1, '/tags/java'];  ['javascript', 2, '/tags/javascript'];  ['jqplot', 1, '/tags/jqplot'];  ['jquery', 2, '/tags/jquery'];  ['linux', 15, '/tags/linux'];  ['meta', 1, '/tags/meta'];  ['mmds', 7, '/tags/mmds'];  ['objc', 1, '/tags/objc'];  ['performance', 1, '/tags/performance'];  ['php', 1, '/tags/php'];  ['programming', 60, '/tags/programming'];  ['python', 8, '/tags/python'];  ['rails', 12, '/tags/rails'];  ['regexp', 1, '/tags/regexp'];  ['ruby', 4, '/tags/ruby'];  ['rubyonrails', 4, '/tags/rubyonrails'];  ['studylog', 11, '/tags/studylog'];  ['til', 3, '/tags/til'];  ['tools', 7, '/tags/tools'];  ['vim', 4, '/tags/vim'];  ['仙剑', 1, '/tags/%E4%BB%99%E5%89%91'];  ['十渡', 1, '/tags/%E5%8D%81%E6%B8%A1'];  ['工作', 3, '/tags/%E5%B7%A5%E4%BD%9C'];  ['徒步', 16, '/tags/%E5%BE%92%E6%AD%A5'];  ['总结', 4, '/tags/%E6%80%BB%E7%BB%93'];  ['感想', 7, '/tags/%E6%84%9F%E6%83%B3'];  ['摄影', 14, '/tags/%E6%91%84%E5%BD%B1'];  ['旅行', 27, '/tags/%E6%97%85%E8%A1%8C'];  ['游戏', 1, '/tags/%E6%B8%B8%E6%88%8F'];  ['电影', 1, '/tags/%E7%94%B5%E5%BD%B1'];  ['骑行', 8, '/tags/%E9%AA%91%E8%A1%8C'];"></div></aside></div></div><footer class="site-footer clearfix"><div id=colophon><section class=col-md-7>Copyright - ©2015 - hzmangel</section><i class=text-right><section class=col-md-5>Proudly generated by <a class=icon-hugo href=http://gohugo.io>HUGO</a>, with <a class=icon-theme href=https://github.com/hzmangel/hugo-twenty-ten>ported Twenty Ten</a> theme</section></i></div></footer><script src=https://code.jquery.com/jquery-3.5.1.slim.min.js integrity=sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj crossorigin=anonymous></script><script src=https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js integrity=sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo crossorigin=anonymous></script><script src=https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js integrity=sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI crossorigin=anonymous></script><script src=//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.0.0/highlight.min.js></script><script>hljs.initHighlightingOnLoad();</script><script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script><script id=MathJax-script async src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script><script type=text/javascript src=http://hzmangel.github.io/js/index.js></script><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create','UA-1847567-5','auto');ga('send','pageview');</script></div></body></html>