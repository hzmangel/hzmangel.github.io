<!DOCTYPE html>
<html lang="zh-cn">
    <head>
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />

        <meta property="og:title" content=" wxWidgets中的Timer &middot;  湖间小筑" />
        <meta property="og:site_name" content="湖间小筑" />
        <meta property="og:url" content="http://hzmangel.github.io/post/199/" />

        
            <meta property="og:type" content="article" />
            <meta property="og:article:published_time" content="2007-06-21T22:22:39Z" />

            
        

        <title>
            湖间小筑
            
                | wxWidgets中的Timer
            
        </title>

        <meta name="description" content="" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />

        <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css" rel="stylesheet">
        <link rel="stylesheet" type="text/css" href="http://hzmangel.github.io/css/screen.css" />

        <link rel="canonical" href="http://hzmangel.github.io/post/199/" />
    </head>

    <body>
        <div class="container" id="site-wrapper">
            <header>
    <div class="row">
        <div class="col-md-6" id="site-title">
            <a href="http://hzmangel.github.io/" title="湖间小筑" rel="home"><h2>湖间小筑</h2></a>
        </div>

        <div class="col-md-6" id="site-description">
            <i class="text-right muted"><div id="site-description">蓝天，小湖，湖水中一方小筑</div></i>
        </div>
    </div>

    <img src="/img/banner.jpg" class="img-responsive">
</header>

            <nav role="navigation">

</nav>







<section>
    <article class="post">

    <header>
        <h2 class="post-title"><a href='http://hzmangel.github.io/post/199/'> wxWidgets中的Timer</a> </h2>
        <div class="post-meta">发表于2007-06-21 22:22:39 </div>
    </header>

    <section>
        <div class="post-summary"><p>像前面说的，做项目要用到wxWidgets，于是装上用之，现在需要用Timer了，继续折腾吧。其实选Timer的时候经过了几次折腾，第一次是想用boost写
一个timer出来，但是没想好怎么执行一定时间后调用某函数或方法，于是作罢。在网上瞎转后回宿舍和人讨论，某牛告诉我说QT里面有Timer，于是突然想到wxw
idgets的timer，做了几个小例子后苦于其要依托于某widget，今天又想试试boost的thread，试了一天后，觉得我是没可能作出来这东西的，于是
再次转回wxTimer，怕以后再这样转来转去啥都不会了，于是在这块地方留个脚印，让我以后转回来的时候还能找到我自己，嗯。开始正题，wxTimer，目前按我的理解来看，是一个计时器，可以在到时间后，调用某个方法，但是到现在为止，我看到的都是要把计时器的事件绑定在某个widget
的事件列表之内，于是，只好虚构一个类，继承于某种widget，然后不让丫显示出来，我也只能想到这种方法了。程序在下面：</p>

<p>头文件 timer.h</p>

<pre><code> 1 #ifndef __TIMER_H__
 2 #define __TIMER_H__
 3 
 4 class Netsim : public wxApp
 5 {
 6     public:
 7         virtual bool OnInit();
 8         void on_timer(wxTimerEvent&amp; f_event);
 9 };
10 
11 class Timer : public wxFrame
12 {
13     public:
14         Timer();
15 
16         DECLARE_EVENT_TABLE()
17 
18     private:
19         wxTimer m_timer;
20 };
21 
22 
23 DECLARE_APP(Netsim)
24 
25 BEGIN_EVENT_TABLE(Timer, wxFrame)
26     EVT_TIMER(wxID_ANY, Netsim::on_timer)
27 END_EVENT_TABLE()
28 
29 #endif // __TIMER_H__
</code></pre>

<p>程序文件 timer.cpp</p>

<pre><code> 1 #include &lt;iostream&gt;
 2 
 3 #include &quot;wx/wxprec.h&quot;
 4 
 5 #ifndef WX_PRECOMP
 6 #include &quot;wx/wx.h&quot;
 7 #endif
 8 
 9 #include &quot;timer.h&quot;
10 
11 IMPLEMENT_APP(Netsim)
12 
13 bool Netsim::OnInit()
14 {
15     Timer *foo = new Timer();
16     wxFrame *frame = new wxFrame((wxFrame*) NULL, -1, _T(&quot;Hello wxWidgets World&quot;));
17     frame-&gt;CreateStatusBar();
18     frame-&gt;SetStatusText(_T(&quot;Hello World&quot;));
19     frame-&gt;Show(TRUE);
20     SetTopWindow(frame);
21     return true;
22 }
23 
24 void Netsim::on_timer( wxTimerEvent&amp; f_event )
25 {
26     std::cout &lt;&lt; &quot;Hello what&quot; &lt;&lt; std::endl;
27 }
28 
29 Timer::Timer() : wxFrame((wxWindow *)NULL, wxID_ANY, _T(&quot;&quot;)), m_timer(this)
30 {
31     m_timer.Start(1000);
32 }
</code></pre>

<p>Timer就是我虚构的一个类，虽然继承于wxFrame，但是在构造函数里面就没有生成那个窗口，只是设置了一下内置的计时器。但是需要注意的一点就是这个类是多重
继承，它还要继承于一个timer，那个m_timer就是类中wxTimer变量的变量名。别的就没啥好说的了，在wxApp的OnInit函数中新建一个Time
r类的实例就可以了，计时器就开始跑了，然后Hello What就出现在终端上了，嗯。</p>
</div>
    </section>

    <footer>
        <div class="post-meta">
            分类：
            <ul class="list-inline">
                 <li><a href="/categories/happy-coding">Happy coding</a></li> 
            </ul>
        </div>

        <div class="post-meta">
            标签：
            <ul class="list-inline">
                
            </ul>
        </div>

        <br/>
        <nav class="post-meta">
            <p class="col-md-6">
                 <a class="previous" href="http://hzmangel.github.io/post/200/"> &lt; fcache总算能用了 </a> 
            </p>

            <p class="col-md-6">
                 <a class="next" href="http://hzmangel.github.io/post/198/"> 重新开始wxWidgets &gt;</a> 
            </p>
        </nav>
        <br/>

    </footer>

</article>

<div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'hzmangel';
    var disqus_identifier = 'http:\/\/hzmangel.github.io\/post\/199\/';
    var disqus_title = 'wxWidgets中的Timer';
    var disqus_url = 'http:\/\/hzmangel.github.io\/post\/199\/';

    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>


</section>

<aside>
</aside>



        <footer class="site-footer clearfix">
            <div id="colophon">
                <section class="col-md-7">Copyright - ©2015 - hzmangel</section>
                
                    <i class="text-right"><section class="col-md-5">Proudly generated by <a class="icon-hugo" href="http://gohugo.io">HUGO</a>, with <a class="icon-theme" href="https://github.com/hzmangel/hugo-twenty-ten">ported Twenty Ten</a> theme</section></i>
                
            </div>
        </footer>

        <script src="http://code.jquery.com/jquery-git2.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
        <script type="text/javascript" src="http://hzmangel.github.io/js/index.js"></script>

    </div> 

</body>
</html>



