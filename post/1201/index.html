<!DOCTYPE html>
<html lang="zh-cn">
    <head>
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />

        <meta property="og:title" content=" iOS Code Snippets - UITableView &middot;  湖间小筑" />
        <meta property="og:site_name" content="湖间小筑" />
        <meta property="og:url" content="http://hzmangel.github.io/post/1201/" />

        
            <meta property="og:type" content="article" />
            <meta property="og:article:published_time" content="2013-03-12T00:06:08Z" />

            
                <meta property="og:article:tag" content="iOS" />
            
                <meta property="og:article:tag" content="Programming" />
            
        

        <title>
            湖间小筑
            
                | iOS Code Snippets - UITableView
            
        </title>

        <meta name="description" content="" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />

        <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css" rel="stylesheet">
        <link rel="stylesheet" type="text/css" href="http://hzmangel.github.io/css/screen.css" />

        <link rel="canonical" href="http://hzmangel.github.io/post/1201/" />
    </head>

    <body>
        <div class="container" id="site-wrapper">
            <header>
    <div class="row">
        <div class="col-md-6" id="site-title">
            <a href="http://hzmangel.github.io/" title="湖间小筑" rel="home"><h2>湖间小筑</h2></a>
        </div>

        <div class="col-md-6" id="site-description">
            <i class="text-right muted"><div id="site-description">蓝天，小湖，湖水中一方小筑</div></i>
        </div>
    </div>

    <img src="/img/banner.jpg" class="img-responsive">
</header>

            <nav role="navigation">

</nav>







<section>
    <article class="post">

    <header>
        <h2 class="post-title"><a href='http://hzmangel.github.io/post/1201/'> iOS Code Snippets - UITableView</a> </h2>
        <div class="post-meta">发表于2013-03-12 00:06:08 </div>
    </header>

    <section>
        <div class="post-summary">

<p>Just created a project on BitBucket to save some iOS code snippets, and the first project is a simple UITableViewController one. The code is placed at <a href="http://goo.gl/0ZrcA">http://goo.gl/0ZrcA</a>. The text above is the introduction text for that project, please reference the code for detailed information.# SimpleTableView</p>

<p>This app is used to describe some basic feature of <code>UITableView</code> in iOS
framework, here is some points of this app:</p>

<h2 id="a-tabbed-view:72a3d7d7d643095ccd61a620eedac4ab">A tabbed view</h2>

<p>This app shows three different UITableViewController objects, which is
organized by tabbed view. The table view of this app is created
programmatically, which is built by this code segment in file <code>AppDelegate.m</code>.</p>

<pre><code>- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions
{
    self.window = [[UIWindow alloc] initWithFrame:[[UIScreen mainScreen] bounds]];
    // Override point for customization after application launch.

    UIViewController *vc_simple_table = [[SimpleTableViewController alloc] initWithNibName:@&quot;SimpleTableViewController&quot; bundle:nil];
    UIViewController *vc_section_table = [[SectionTableViewController alloc] initWithNibName:@&quot;SectionTableViewController&quot; bundle:nil];
    UIViewController *vc_grouped_table = [[GroupedTableViewController alloc] initWithNibName:@&quot;GroupedTableViewController&quot; bundle:nil];

    self.tab_bar = [[UITabBarController alloc] init];
    self.tab_bar.viewControllers = @[vc_simple_table, vc_section_table, vc_grouped_table];

    [self.window addSubview:self.tab_bar.view];
    [self.window makeKeyAndVisible];
    return YES;
}
</code></pre>

<p><strong>NOTICE</strong>: <code>setRootView</code> for <code>self.window</code> can&rsquo;t add show the tabbed view in app, not sure why currently.</p>

<h2 id="read-data-from-text-file:72a3d7d7d643095ccd61a620eedac4ab">Read data from text file</h2>

<p>The data source of the list is fetched from a text file by this code segment:</p>

<pre><code>NSArray *table_data;

// Country list
NSString *fileText = [NSString stringWithContentsOfFile:[[NSBundle mainBundle] pathForResource:@&quot;country_list&quot; ofType:@&quot;txt&quot;] encoding:NSMacOSRomanStringEncoding error:nil];
table_data = [fileText componentsSeparatedByString:@&quot;\n&quot;];
</code></pre>

<h2 id="build-table-view:72a3d7d7d643095ccd61a620eedac4ab">Build table view</h2>

<p>Now the prime task, build table view. I have created three types of list, the
plain, sectioned, and grouped. I want to apply it to some earlier version of
iOS device, so haven&rsquo;t use the storyboard. By the way, there is a <a href="h
ttp://developer.apple.com/library/ios/#documentation/userexperience/conceptual
/tableview_iphone/AboutTableViewsiPhone/AboutTableViewsiPhone.html#//apple_ref
/doc/uid/TP40007451-CH1-SW1">document</a> on apple development center which can give more
information.</p>

<h3 id="plain-table-view:72a3d7d7d643095ccd61a620eedac4ab">Plain table view</h3>

<p>This is the simplest table view, and here is my step:</p>

<ol>
<li>Create a Object C class, with xib file. In this app, the created class is <code>SimpleTableViewController</code>.</li>
<li>Modify the header file to make sure the class will implement protocol <code>UITableViewDelegate</code> and <code>UITableViewDataSource</code>.</li>
<li>Drag the UITableViewController widget to xib file, and associate with member variables.</li>
<li>Two functions <code>numberOfRowsInSection</code> and <code>cellForRowAtIndexPath</code> are needed for showing data in list.</li>
<li>Fill the data into <code>table_data</code> array, and now you have a simple table list.</li>
</ol>

<h3 id="sectioned-table-view:72a3d7d7d643095ccd61a620eedac4ab">Sectioned table view</h3>

<p>Class for sectioned table view is <code>SectionTableViewController</code>, here is the
prime changes:</p>

<ul>
<li>Use two-level data structure to save section title and row data. Currently an array is used for section title while a dictionary for detail data.</li>
<li>Two functions <code>numberOfSectionsInTableView</code> and <code>titleForHeaderInSection</code> are added for returning section count and section title</li>
<li><code>numberOfRowsInSection</code> should be modified to return count in each section.</li>
</ul>

<h3 id="grouped-table-view:72a3d7d7d643095ccd61a620eedac4ab">Grouped table view</h3>

<p>Class for grouped table view is <code>GroupedTableViewController</code>, and here is the
changes:</p>

<ul>
<li>Modify the table view widget from <em>plain</em> to <em>grouped</em> in xib file</li>
<li>The other things are almost the same with section.</li>
</ul>

<h2 id="add-the-index:72a3d7d7d643095ccd61a620eedac4ab">Add the index</h2>

<p>This will add an index to the right side of list, since it need a sectioned
data, so I added it in section table view. Two functions are needed for adding
index. * <code>sectionIndexTitlesForTableView</code>: Set the section header string *
<code>sectionForSectionIndexTitle</code>: Return the section while clicking section
title.</p>

<h2 id="search-the-list:72a3d7d7d643095ccd61a620eedac4ab">Search the list</h2>

<p>Search function it added to simple table view. Here are the changes:</p>

<ul>
<li>Add search bar to top of the table view</li>
<li>Add function <code>searchBarTextDidBeginEditing</code> and <code>textDidChange</code> to handle the typing event in search bar</li>
<li>Add function <code>searchBarSearchButtonClicked</code> to handle search button clicked event</li>
</ul>

<p>This search result will be shown real time while typing character to the
search bar.</p>

<h2 id="response-to-user-click-event:72a3d7d7d643095ccd61a620eedac4ab">Response to user click event</h2>

<p>This is added to sectioned table view. Function <code>didSelectRowAtIndexPath</code> will
handle user click event.</p>
</div>
    </section>

    <footer>
        <div class="post-meta">
            分类：
            <ul class="list-inline">
                 <li><a href="/categories/happy-coding">Happy coding</a></li> 
            </ul>
        </div>

        <div class="post-meta">
            标签：
            <ul class="list-inline">
                 <li><a href="/tags/ios"><span class="label label-default">iOS</span></a></li>  <li><a href="/tags/programming"><span class="label label-default">Programming</span></a></li> 
            </ul>
        </div>

        <br/>
        <nav class="post-meta">
            <p class="col-md-6">
                 <a class="previous" href="http://hzmangel.github.io/post/1205/"> &lt; Using Rails with Redis </a> 
            </p>

            <p class="col-md-6">
                 <a class="next" href="http://hzmangel.github.io/post/1195/"> @property and its attributes &gt;</a> 
            </p>
        </nav>
        <br/>

    </footer>

</article>

<div id="disqus_thread"></div>
<script type="text/javascript">
     
    var disqus_shortname = "hzmangel";

     
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>


</section>

<aside>
</aside>



        <footer class="site-footer clearfix">
            <div id="colophon">
                <section class="col-md-7">Copyright - ©2015 - hzmangel</section>
                
                    <i class="text-right"><section class="col-md-5">Proudly generated by <a class="icon-hugo" href="http://gohugo.io">HUGO</a>, with <a class="icon-theme" href="https://github.com/hzmangel/hugo-twenty-ten">ported Twenty Ten</a> theme</section></i>
                
            </div>
        </footer>

        <script src="http://code.jquery.com/jquery-git2.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
        <script type="text/javascript" src="http://hzmangel.github.io/js/index.js"></script>
        <script>
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

            ga('create', 'UA-1847567-5', 'auto');
            ga('send', 'pageview');
        </script>

    </div> 

</body>
</html>



