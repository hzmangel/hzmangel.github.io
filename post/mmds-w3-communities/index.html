<!DOCTYPE html>
<html lang="zh-cn">
    <head>
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />

        <meta property="og:title" content=" MMDS Notes: W3 - Communities in Social Network (Basic)
 &middot;  湖间小筑" />
        <meta property="og:site_name" content="湖间小筑" />
        <meta property="og:url" content="http://hzmangel.github.io/post/mmds-w3-communities/" />

        
            <meta property="og:type" content="article" />
            <meta property="og:article:published_time" content="2015-11-11T23:53:33&#43;08:00" />

            
                <meta property="og:article:tag" content="Programming" />
            
                <meta property="og:article:tag" content="mmds" />
            
                <meta property="og:article:tag" content="StudyLog" />
            
        

        <title>
            湖间小筑
            
                | MMDS Notes: W3 - Communities in Social Network (Basic)

            
        </title>

        <meta name="description" content="" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />

        <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css" rel="stylesheet">

        <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.6/styles/atelier-dune.dark.min.css">

        <link rel="stylesheet" type="text/css" href="http://hzmangel.github.io/css/screen.css" />

        

        <link rel="canonical" href="http://hzmangel.github.io/post/mmds-w3-communities/" />
    </head>

    <body>
        <div class="container" id="site-wrapper">
            <header>
    <div class="row">
        <div class="col-md-6" id="site-title">
            <a href="http://hzmangel.github.io/" title="湖间小筑" rel="home"><h2>湖间小筑</h2></a>
        </div>

        <div class="col-md-6" id="site-description">
            <i class="text-right muted"><div id="site-description">蓝天，小湖，湖水中一方小筑</div></i>
        </div>
    </div>

    <img src="/img/banner.jpg" class="img-responsive">
</header>

            <nav role="navigation">

</nav>





<div class="row">
    <div class="col-md-9">
        <section>
            <article class="post">

    <header>
        <h2 class="post-title"><a href='http://hzmangel.github.io/post/mmds-w3-communities/'> MMDS Notes: W3 - Communities in Social Network (Basic)
</a> </h2>
        <div class="post-meta">发表于2015-11-11 23:53:33 </div>
    </header>

    <section>
        <div class="post-summary">

<p>第三周分两部分，第一部分是 <em>Communities in Social Network</em> 。是介绍如何在社交网络中给用户分组的。这一部分的课也分为基础和高级，这一篇是基础， 高级的课程另开一篇吧（主要是基础中还有些东西没完全弄明白&hellip;）。</p>

<p>社交网络包含有用户和用户之间的联系。把用户看成顶点，把用户之间的联系看成边，就可以得到一个图 (<em>social graph</em>)。像 Facebook 中的图就是无向图，而 Twitter/G+ 中的就是有向图。在 <em>Network</em> 和 <em>Communities</em> 这块，主要的任务有两类：</p>

<ul>
<li>给定一个模型，怎么去生成网络</li>
<li>给定一个网络，怎么找到最好的 <em>Communities</em> 模型</li>
</ul>

<h2 id="从模型生成网络:f49d83646bd9b5cfba098a76dc907562">从模型生成网络</h2>

<p>从模型生成网络是指定义一个模型，它接受一系列的参数，并最终生成一张网络（主要是边的生成）。</p>

<h3 id="agm-affiliation-graph-model:f49d83646bd9b5cfba098a76dc907562">AGM: Affiliation Graph Model</h3>

<h4 id="参数:f49d83646bd9b5cfba098a76dc907562">参数</h4>

<ul>
<li><code>$V$</code>: 节点</li>
<li><code>$C$</code>: <em>Community</em></li>
<li><code>$M$</code>: 节点与 <em>Community</em> 之间的关系</li>
<li><code>$P_{c}$</code>: 某个 <em>Community</em> 的联通率，即都属于某个 <em>Community</em> 的节点之间联通的概率。</li>
</ul>

<h4 id="生成过程:f49d83646bd9b5cfba098a76dc907562">生成过程</h4>

<p>遍历每个 <em>Community</em> <code>$A$</code> 中的节点对，以 <code>$P_{A}$</code> 的概率连接它们（边的生成）。</p>

<p>任意两点间的连接概率为<code>$P(u,v)=1-\prod_{c \in M_{u} \bigcap M_{v}}(1-p_{c}) $</code> 。其中，<code>$M_{u}$</code> 表示包含有节点 <code>$u$</code> 的 <em>Community</em> 集合。如果 <code>$u$</code> 和 <code>$v$</code> 没有共用的 <em>Community</em> ，则概率 <code>$P(u,v) = \upepsilon $</code> 。</p>

<h4 id="适应性强:f49d83646bd9b5cfba098a76dc907562">适应性强</h4>

<p>可以用于生成多种 <em>Community</em> ：</p>

<ul>
<li>无交集 (Non-overlapping)</li>
<li>有交集 (Overlapping)</li>
<li>内嵌 (Nested)</li>
</ul>

<h2 id="从网络生成模型:f49d83646bd9b5cfba098a76dc907562">从网络生成模型</h2>

<h3 id="agm-affiliation-graph-model-1:f49d83646bd9b5cfba098a76dc907562">AGM: Affiliation Graph Model</h3>

<p>这个是mmds书本<a href="http://www.mmds.org/mmds/v2.1/ch10-graphs2.pdf">配套幻灯片</a>上的内容，占坑。</p>

<h3 id="bigclam:f49d83646bd9b5cfba098a76dc907562">BigCLAM</h3>

<h4 id="membership-strength:f49d83646bd9b5cfba098a76dc907562">Membership Strength</h4>

<p>引入一个新概念，某个节点 <code>$u$</code> 对某个 <em>Community</em> 的 <em>membership strength</em> ，记为 <code>$F_{u,A}$</code>，同时定义如果此值为0，则表明节点不在 <em>Community</em> 中。所以在某个 <em>Community</em> 中，两个节点的联通概率为 <code>$P_{A}(u,v)=1-\exp (-F_{uA} \cdot F_{vA})$</code> 。</p>

<blockquote>
<p>此处不是很明白为什么同 <em>Community</em> 中节点的连通概率可以写成上面的方式，需要去书中相应章节找答案。</p>
</blockquote>

<p>上面介绍的是在同一个 <em>Community</em> 中两个节点的联通概率，现在将要说的是在不同的 <em>Community</em> 中如何确定联通概率。首先需要定义一个 <em>Community membership strength matrix</em> ，它的列是 <em>Community</em> ，行是节点。将矩阵记为 <code>$F$</code>，某个位置 <code>$F_{vA}$</code> 的值表示的是节点在这个 <em>Community</em> 中的 <em>strength</em> ，所以任意一行 <code>$F_{u}$</code> 则表示的是节点在多个 <em>Community</em> 中的 <em>membership strength</em> 向量。</p>

<p>上面的公式计算的是两个节点在单 <em>Community</em> 中的联通概率，两个节点之间存在至少相同的 <em>Community</em> ，那么它们的联通概率即为 <code>$P(u,v)=1-\prod_{C}(1-P_{C}(u,v))$</code> ，经过和上面的公式整合，简化，可以得到 <code>$P(u,v)=1-\exp (-F_{v} \cdot F_{v}^{T} )$</code></p>

<p>所以问题就从如何从一个网络生成 <em>Community</em> 变成了如何从给定的网络中找到可以最大化 <em>likelihood</em> 的矩阵 <code>$F$</code> ，即 <code>$argmax_{F} \prod_{u,v \in E} p(u,v) \prod_{(u,v \notin E)}(1-p(u,v))$</code> 。通常这个 <em>likelihood</em> 会使用对数表示，记为 <code>$l(F)=\log P(G|F)$</code> 。最后问题就演变为找到可以使 <code>$l(F)$</code> 最大化的 <code>$F$</code>。而 <code>$$l(F) = \sum_{(u,v) \in E} \log (1-\exp (-F_{u}F_{v}^{T})) - \sum_{(u,v) \notin E}(F_{u}F_{v}^{T})$$</code></p>

<h4 id="计算:f49d83646bd9b5cfba098a76dc907562">计算</h4>

<p>考虑到需要求 <em>likelihood</em> 的极大值，所以考虑使用导数（ <em>gradient</em> ）来计算。将上式中的<code>$F_{u}$</code>看作变量，即某节点 <code>$u$</code> 的最大 <em>likelihood</em> 值，则对上面公式的求导后可变为</p>

<p><code>$$ \nabla l(F_{u})=\sum_{v \in \mathcal{N}(u)} F_{v} \frac{\exp (-F_{u}F_{v}^{T})}{1- \exp (-F_{u}F_{v}^{T})} - \sum_{v \notin \mathcal{N}(u)} F_{v} $$</code></p>

<p>其中，<code>$\mathcal{N}(u)$</code>表示节点 <code>$u$</code> 的邻接节点。</p>

<p>这个公式的问题在于，后面的一个求和操作是线性时间的，而且是和所有节点数目相关，这样会拖慢运算速度。式子的后一项是计算所有不在节点 <code>$u$</code> 邻接节点中的节点的<code>$F$</code>值的和，它可以替换为 <code>$\sum_{v} F_{v} - F_{u} - \sum_{v \in \mathcal{N}(u) F_{v}}$</code> ，而这个式子的第一项 <code>$\sum_{v} F_{v}$</code> 是可以预先计算得到的，而 <code>$\sum_{v \in \mathcal{N}(u) F_{v}}$</code> 虽然也是线性时间，但是只和 <code>$u$</code> 的邻接节点数目想关，这个数值在真实网络中远小于整个网络的节点数的。所以在速度上有很大的改进。</p>

<blockquote>
<p>有点不明白，<code>$\sum_{v} F_{v}$</code> 在开始的时候是怎么可以事先计算的，要求的不就是某个 <code>$F$</code> 吗。后期实现的时候再看如何处理吧。</p>
</blockquote>

<hr />

<h2 id="其它阅读-graph-and-social-network:f49d83646bd9b5cfba098a76dc907562">其它阅读: Graph and Social Network</h2>

<p><strong>注</strong>：此处的内容并没有在课程讲义中，而对应书本的 <em>10.1.2 Social Networks as Graphs</em> 节。主要是觉得在课程上说的有些东西不是很清楚来龙去脉，所以去书本上找一找，就看到了这个东西。目前还有一些问题不是很明了，也一起列在最后。</p>

<p>一般认为，一个 <em>SN</em> 可以看成一张图，但这并不是表示任意一个 <em>graph</em> ，就能表示一个 <em>social network</em> ，这个是由这张图的 <em>locality of relationships</em> 确定的。</p>

<p>检查一个 <em>graph</em> 是不是 <em>SN</em> ，则需要计算这张图的 <em>locality of relationships</em> （找不到这个词怎么翻译，先原样放这吧）。给定一个有 <code>$N$</code> 节点， <code>$E$</code> 条边的图，它的联通率是指，有三个点<code>$X$</code>，<code>$Y$</code>和<code>$Z$</code>，在确定<code>$(X,Y)$</code>和<code>$(X,Z)$</code>联通的情况下，<code>$(Y,Z)$</code>联通的概率。</p>

<p>此概率的计算有以下几步：</p>

<ul>
<li><strong>理论联通率</strong>：完全图会有<code>K=$\binom{N}{2}$</code>条边，所以理论联通率应为 <code>$E/K$</code>。</li>
<li><strong>单条边的联通率</strong>：在大规模的图中，一般认为理论联通率就是图的联通率，但是在小规模的图中，这个数值偏差有些大，所以需要重新计算。考虑给定条件，在已经确定有两条边的情况下，计算第三条边出现的条件概率，即为<code>$(E-2)/(K-2)$</code></li>
<li><strong>实际联通率</strong>：实际概率的计算需要遍历图中的每个节点，假设为<code>$X$</code>，再找到邻接节点 <code>$Y$</code> 和 <code>$Z$</code> ，最后计算 <code>$(Y,Z)$</code> 出现的概率。</li>
</ul>

<p>书中表示，最后算出来的实际概率大于单边理论概率，所以这张图可以看成是某 <em>SN</em> 网络（可以表示 <em>SN</em> 网络的 <em>locality</em> ）。</p>

<blockquote>
<ol>
<li>是不是说大规格图的联通率直接认为是理论联通率，所以就肯定可以表示 <em>SN</em> 而不用再计算？</li>
<li>如果计算出来的联通率比单边联通率还要低，那是不是就说明这个图不能表示 <em>SN</em> ？</li>
<li>是不是说实际联通率只要超过单边联通率就可以看成是 <em>SN</em> ？还是说需要超过某个阈值才可以算？</li>
</ol>
</blockquote>
</div>
    </section>

    <footer>
        <div class="post-meta">
            分类：
            <ul class="list-inline">
                 <li><a href="/categories/happy-coding">Happy coding</a></li> 
            </ul>
        </div>

        <div class="post-meta">
            标签：
            <ul class="list-inline">
                 <li><a href="/tags/programming"><span class="label label-default">Programming</span></a></li>  <li><a href="/tags/mmds"><span class="label label-default">mmds</span></a></li>  <li><a href="/tags/studylog"><span class="label label-default">StudyLog</span></a></li> 
            </ul>
        </div>

        <br/>
        <nav class="post-meta">
            <p class="col-md-6">
                
            </p>

            <p class="col-md-6">
                 <a class="next" href="http://hzmangel.github.io/post/mmds-w2-frequent-itemsets-p2/"> MMDS Notes: W2 - Frequent Itemsets - Part II
 &gt;</a> 
            </p>
        </nav>
        <br/>

    </footer>

</article>

<div id="disqus_thread"></div>
<script type="text/javascript">
     
    var disqus_shortname = "hzmangel";

     
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>


        </section>
    </div>

    <div class="col-md-3">
        <aside id="sidebar">

    <div class="sidebar-block">
        <h5>新鲜出炉</h5>
        <ul class="list-unstyled">
        
            <li><a href='http://hzmangel.github.io/post/mmds-w3-communities/'> MMDS Notes: W3 - Communities in Social Network (Basic)
</a></li>
        
            <li><a href='http://hzmangel.github.io/post/mmds-w2-frequent-itemsets-p2/'> MMDS Notes: W2 - Frequent Itemsets - Part II
</a></li>
        
            <li><a href='http://hzmangel.github.io/post/mmds-w2-frequent-itemsets-p1/'> MMDS Notes: W2 - Frequent Itemsets - Part I
</a></li>
        
            <li><a href='http://hzmangel.github.io/post/mmds-w2-nearest-neighbor-learning/'> MMDS Notes: W2 - Nearest Neighbor Learning
</a></li>
        
            <li><a href='http://hzmangel.github.io/post/mmds-w2-locality-sensitive-hashing/'> MMDS Notes: W2 - Locality-Sensitive Hashing
</a></li>
        
        </ul>
    </div>

    <div class="sidebar-block">
        <h5>分类</h5>
        <ul class="list-unstyled">
        
            <li><a href="/categories/btup">btup</a> &nbsp;(23)</li>
        
            <li><a href="/categories/happy-coding">happy-coding</a> &nbsp;(87)</li>
        
            <li><a href="/categories/%E5%96%84%E7%94%A8%E4%BD%B3%E8%BD%AF">善用佳软</a> &nbsp;(26)</li>
        
            <li><a href="/categories/%E5%A5%BD%E4%B8%9C%E4%B8%9Clatex">好东东latex</a> &nbsp;(20)</li>
        
            <li><a href="/categories/%E5%B0%8F%E4%BC%81%E9%B9%85linux">小企鹅linux</a> &nbsp;(73)</li>
        
            <li><a href="/categories/%E6%90%AD%E5%95%8A%E6%90%AD%E6%90%AD%E7%94%B5%E8%B7%AF">搭啊搭搭电路</a> &nbsp;(7)</li>
        
            <li><a href="/categories/%E6%9D%82%E4%B9%9D%E6%9D%82%E5%8D%81_">杂九杂十_</a> &nbsp;(140)</li>
        
            <li><a href="/categories/%E6%B8%B8%E6%88%8F%E4%BA%BA%E7%94%9F">游戏人生</a> &nbsp;(13)</li>
        
            <li><a href="/categories/%E9%82%A3%E5%B1%B1%E9%82%A3%E6%B0%B4">那山那水</a> &nbsp;(52)</li>
        
            <li><a href="/categories/%E9%A3%8E%E9%9B%A8%E8%80%83%E7%A0%94%E8%B7%AF">风雨考研路</a> &nbsp;(11)</li>
        
            <li><a href="/categories/%E9%A5%95%E9%A4%AE%E4%B9%8B%E4%BA%AB">饕餮之享</a> &nbsp;(4)</li>
        
        </ul>
    </div>

    <div class="sidebar-block">
        <h5>标签</h5>
        <div id="tag_cloud" data-tags=" ['admin', 4, '/tags/admin'];  ['android', 1, '/tags/android'];  ['base64', 1, '/tags/base64'];  ['blog', 1, '/tags/blog'];  ['carrierwave', 1, '/tags/carrierwave'];  ['dtrace', 1, '/tags/dtrace'];  ['flex', 1, '/tags/flex'];  ['gfw', 1, '/tags/gfw'];  ['golang', 3, '/tags/golang'];  ['ios', 6, '/tags/ios'];  ['java', 1, '/tags/java'];  ['javascript', 2, '/tags/javascript'];  ['jqplot', 1, '/tags/jqplot'];  ['jquery', 2, '/tags/jquery'];  ['linux', 15, '/tags/linux'];  ['meta', 1, '/tags/meta'];  ['mmds', 7, '/tags/mmds'];  ['objc', 1, '/tags/objc'];  ['performance', 1, '/tags/performance'];  ['php', 1, '/tags/php'];  ['programming', 54, '/tags/programming'];  ['python', 8, '/tags/python'];  ['rails', 8, '/tags/rails'];  ['regexp', 1, '/tags/regexp'];  ['ruby', 4, '/tags/ruby'];  ['studylog', 7, '/tags/studylog'];  ['til', 1, '/tags/til'];  ['tools', 7, '/tags/tools'];  ['vim', 4, '/tags/vim'];  ['仙剑', 1, '/tags/%E4%BB%99%E5%89%91'];  ['十渡', 1, '/tags/%E5%8D%81%E6%B8%A1'];  ['工作', 3, '/tags/%E5%B7%A5%E4%BD%9C'];  ['徒步', 16, '/tags/%E5%BE%92%E6%AD%A5'];  ['总结', 4, '/tags/%E6%80%BB%E7%BB%93'];  ['感想', 7, '/tags/%E6%84%9F%E6%83%B3'];  ['摄影', 14, '/tags/%E6%91%84%E5%BD%B1'];  ['旅行', 27, '/tags/%E6%97%85%E8%A1%8C'];  ['游戏', 1, '/tags/%E6%B8%B8%E6%88%8F'];  ['电影', 1, '/tags/%E7%94%B5%E5%BD%B1'];  ['骑行', 8, '/tags/%E9%AA%91%E8%A1%8C']; " />
    </div>

</aside>



    </div>
</div>

        <footer class="site-footer clearfix">
            <div id="colophon">
                <section class="col-md-7">Copyright - ©2015 - hzmangel</section>
                
                    <i class="text-right"><section class="col-md-5">Proudly generated by <a class="icon-hugo" href="http://gohugo.io">HUGO</a>, with <a class="icon-theme" href="https://github.com/hzmangel/hugo-twenty-ten">ported Twenty Ten</a> theme</section></i>
                
            </div>
        </footer>

        <script src="http://code.jquery.com/jquery-git2.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>

        <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.6/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script>

        <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
        <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
          tex2jax: {
            inlineMath: [['$','$'], ['\\(','\\)']],
            displayMath: [['$$','$$'], ['\[','\]']],
            processEscapes: true,
            processEnvironments: true,
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
            TeX: { equationNumbers: { autoNumber: "AMS" },
                 extensions: ["AMSmath.js", "AMSsymbols.js"] }
          }
        });
        </script>

        <script type="text/x-mathjax-config">
          MathJax.Hub.Queue(function() {
            
            
            
            var all = MathJax.Hub.getAllJax(), i;
            for(i = 0; i < all.length; i += 1) {
                all[i].SourceElement().parentNode.className += ' has-jax';
            }
        });
        </script>

        <script type="text/javascript" src="http://hzmangel.github.io/js/index.js"></script>
        <script>
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

            ga('create', 'UA-1847567-5', 'auto');
            ga('send', 'pageview');
        </script>

    </div> 

</body>
</html>



